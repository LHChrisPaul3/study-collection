## 白帽子讲WEB安全笔记

> 这个笔记不会按照章节的分类进行记录，我会根据自己阅读把值得记录下来的内容进行记录。

### 第一篇：世界观安全

#### 关于白帽子

在安全圈子里，素有“白帽”、“黑帽”-说，黑帽子是指那些造成破坏的黑客，而白帽子则是研究安全，但不造成破坏的黑客。白帽子均以建设更安全的互联网为己任。

#### web安全的兴起

SQL注入的出现是web安全史上的一个里程碑，它最早出现大概在1999年，并很快就成为web安全的头号大敌，黑客们通过SQL注入攻击，可以获取很多重要的、敏感的数据，甚至能够通过数据库获取系统访问权限，这种效果不比直接攻击系统软件差，web攻击一下子就流行起来了。
XSS（跨站脚本攻击）的出现则是web安全史上的另一个里程碑。实际上，XSS的出现时间和SQL注入差不多，但真正引起人们重视则是在大概2003年以后，在经历了MySpace的XSS蠕虫事件后，安全界对XSS的重视程度提高了很多，OWASP2007 TOP10威胁甚至把XSS排在榜首。

**互联网本来是安全的，自从有了研究安全的人，就变得不安全了。**

#### 安全三要素

安全三要素是安全的基本组成元素，分别是机密性、完整性、可用性。
- 机密性要求保护数据内容不能泄露，加密是实现机密性要求的常见手段。
- 完整性则要求保护数据内容是完整、没有篡改的，常见的保证一致性的技术手段是数字签名。
- 可用性要求保护资源是"随需而得"，举个栗子：假设一个停车场里有100个车位，在正常情况下，可以停100辆车，但是在某一天，有个坏人搬了100块大石头，把每个车位都占用了，停车场无法再提供正常服务，在安全领域中这种攻击叫做拒绝服务攻击，简称Dos(Denial of Service)。拒绝服务攻击破坏的是安全的可用性。

#### 互联网安全的核心问题，是数据安全的问题

在互联网的基础设施已经比较完善的今天，互联网的核心其实是由用户数据驱动的--用户产生业务，业务产生数据，互联网公司除了拥有一些固定资产，如服务器等死物外，最核心的价值就是其拥有的用户数据。

#### 威胁分析

在安全领域里，我们把可能造成危害的来源称为威胁，而把可能会出现的损失称为风险。
在这里介绍一种威胁建模的方法，它最早是由微软提出的，叫做STRIDE模型。
STRIDE是6个单词的首字母缩写，我们在分析威胁时，可以从以下6个方面去考虑。

威胁|定义|对应的安全属性
---|:--:|--:
Spoofing(伪装)|冒充他人身份|认证
Tampering(篡改)|修改数据或代码|完整性
Repudiation(抵赖)|否认做过的事情|不可抵赖性
InformationDisclosure(信息泄露)|机密信息泄露|机密性
Denial of Service(拒绝服务)|拒绝服务|可用性
Elevation of Privilege(提升权限)|未经授权获得许可|授权

### 第二篇：客户端安全

#### 浏览器安全

- 同源策略

同源策略是一种约定，它是浏览器最核心也是最基础的安全功能，如果缺少了同源策略，则浏览器的正常功能可能都会受到影响，可以说Web是构建在同源策略的基础之上的，浏览器只是针对同源策略的一种实现。
**浏览器的同源策略，限制了来自不同源的“document”或脚本，对当前“document”读取或设置某些属性。**

- 浏览器沙箱

- 恶意网址拦截

#### 跨站脚本攻击（XSS）

- 定义

跨站脚本攻击，英文全称是`Cross Site Script`，本来缩写是CSS，但是为了和层叠样式表（Cascading Style Sheet，CSS）有所区别，所以在安全领域叫做“XSS”。

